{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Layout from '../../components/Layout';\nimport Campaign from '../../ethereum/campaign';\n\nclass CampaignShow extends React.Component {\n  static async getInitialProps(props) {\n    console.log(\"address :  \", props.query.address); // 创建合约实例\n\n    const campaign = Campaign(props.query.address);\n    const summary = await campaign.methods.getSummay().call();\n    /*\n      // 获取合约的基本信息\n      function getSummay() public view returns(uint,uint,uint,uint,string,address){\n        return (minimumContribute,address(this).balance,requests.length,approversCount,description,manager);\n      }\n    */\n\n    return {\n      address: props.query.address,\n      minimumContribute: summary[0],\n      balance: summary[1],\n      requestCount: summary[2],\n      approvalCount: summary[3],\n      description: summary[4],\n      manager: summary[5]\n    };\n  }\n\n  render() {\n    const {\n      address,\n      minimumContribute,\n      balance,\n      requestCount,\n      approvalCount,\n      description,\n      manager\n    } = this.props;\n    return __jsx(Layout, null, __jsx(\"h1\", null, \"hello show, desc : \", this.props.url.query.address));\n  }\n\n}\n\nexport default CampaignShow;","map":{"version":3,"sources":["/Users/andy/Downloads/exam3/campaign_contract/pages/campaigns/show.js"],"names":["React","Layout","Campaign","CampaignShow","Component","getInitialProps","props","console","log","query","address","campaign","summary","methods","getSummay","call","minimumContribute","balance","requestCount","approvalCount","description","manager","render","url"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,OAAOC,QAAP,MAAqB,yBAArB;;AAEA,MAAMC,YAAN,SAA2BH,KAAK,CAACI,SAAjC,CAA2C;AAEzC,eAAaC,eAAb,CAA6BC,KAA7B,EAAoC;AAClCC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BF,KAAK,CAACG,KAAN,CAAYC,OAAtC,EADkC,CAGlC;;AACA,UAAMC,QAAQ,GAAGT,QAAQ,CAACI,KAAK,CAACG,KAAN,CAAYC,OAAb,CAAzB;AAEA,UAAME,OAAO,GAAG,MAAMD,QAAQ,CAACE,OAAT,CAAiBC,SAAjB,GAA6BC,IAA7B,EAAtB;AACA;;;;;;;AAOA,WAAO;AACHL,MAAAA,OAAO,EAACJ,KAAK,CAACG,KAAN,CAAYC,OADjB;AAEHM,MAAAA,iBAAiB,EAACJ,OAAO,CAAC,CAAD,CAFtB;AAGHK,MAAAA,OAAO,EAACL,OAAO,CAAC,CAAD,CAHZ;AAIHM,MAAAA,YAAY,EAACN,OAAO,CAAC,CAAD,CAJjB;AAKHO,MAAAA,aAAa,EAACP,OAAO,CAAC,CAAD,CALlB;AAMHQ,MAAAA,WAAW,EAACR,OAAO,CAAC,CAAD,CANhB;AAOHS,MAAAA,OAAO,EAACT,OAAO,CAAC,CAAD;AAPZ,KAAP;AASD;;AAEDU,EAAAA,MAAM,GAAG;AAEP,UAAM;AACJZ,MAAAA,OADI;AAEJM,MAAAA,iBAFI;AAGJC,MAAAA,OAHI;AAIJC,MAAAA,YAJI;AAKJC,MAAAA,aALI;AAMJC,MAAAA,WANI;AAOJC,MAAAA;AAPI,QAQJ,KAAKf,KARP;AAUA,WACI,MAAC,MAAD,QACE,yCAAwB,KAAKA,KAAL,CAAWiB,GAAX,CAAed,KAAf,CAAqBC,OAA7C,CADF,CADJ;AAKD;;AA5CwC;;AA+C3C,eAAeP,YAAf","sourcesContent":["import React from 'react';\nimport Layout from '../../components/Layout';\n\nimport Campaign from '../../ethereum/campaign';\n\nclass CampaignShow extends React.Component {\n\n  static async getInitialProps(props) {\n    console.log(\"address :  \",props.query.address);\n\n    // 创建合约实例\n    const campaign = Campaign(props.query.address);\n\n    const summary = await campaign.methods.getSummay().call();\n    /*\n      // 获取合约的基本信息\n      function getSummay() public view returns(uint,uint,uint,uint,string,address){\n        return (minimumContribute,address(this).balance,requests.length,approversCount,description,manager);\n      }\n    */\n\n    return {\n        address:props.query.address,\n        minimumContribute:summary[0],\n        balance:summary[1],\n        requestCount:summary[2],\n        approvalCount:summary[3],\n        description:summary[4],\n        manager:summary[5]\n    };\n  }\n\n  render() {\n\n    const {\n      address,\n      minimumContribute,\n      balance,\n      requestCount,\n      approvalCount,\n      description,\n      manager\n    }=this.props;\n\n    return (\n        <Layout>\n          <h1>hello show, desc : {this.props.url.query.address}</h1>\n        </Layout>\n    );\n  }\n}\n\nexport default CampaignShow;\n"]},"metadata":{},"sourceType":"module"}